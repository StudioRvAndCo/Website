---
import Production from "@components/list/Production.astro"
import ProductionsList from "@assets/json/productions.json"
import Translations from "@assets/json/translations.json"

const productions = ProductionsList.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime())
const locale = Astro.currentLocale ?? "fr"
const translation = Translations[locale as keyof typeof Translations].productions
---

<article id="productions">
    <h2>{translation.self}</h2>
    <div>{productions.map((production, index) => <Production production={production} index={index} />)}</div>
</article>

<style lang="scss">
    #productions {
        @include max-width(var(--max-width-content));
        @include full-width-background-color(var(--bg-color));
        padding: var(--spacing) 0;
        scroll-margin-top: 1.5em;

        > div {
            padding: 0;
        }
    }
</style>
